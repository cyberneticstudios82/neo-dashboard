<!DOCTYPE html>
<html><head><meta charset="UTF-8"><title>APEX HQ - Trading System</title>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Courier New',monospace;background:#050508;color:#fff;overflow:hidden}
#c{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0}
.top{position:fixed;top:0;left:0;right:0;height:60px;background:linear-gradient(90deg,#0a0a12,#1a1a2a);border-bottom:2px solid #00ffd1;display:flex;align-items:center;justify-content:space-between;padding:0 30px;z-index:100}
.logo{font-size:24px;font-weight:bold;letter-spacing:4px;color:#00ffd1}
.logo span{color:#ffd700}
.kpi{display:flex;gap:30px;font-size:14px}
.kpi .pnl{color:#00ff88;font-weight:bold}
.kpi .pnl.neg{color:#ff4444}
.layers{display:flex;gap:10px;font-size:10px}
.layer{background:#222;padding:4px 10px;border-radius:4px;border:1px solid #333}
.layer.d{color:#00ffd1}.layer.t{color:#ff00ff}.layer.e{color:#ff8800}.layer.m{color:#00ff88}
.live{color:#00ff88;animation:pulse 2s infinite}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
.voice-btn{background:#00ffd1;color:#000;padding:8px 16px;border:none;border-radius:6px;font-size:12px;cursor:pointer;font-weight:bold}
.left{position:fixed;left:15px;top:75px;width:220px;bottom:15px;display:flex;flex-direction:column;gap:8px;z-index:50;overflow-y:auto}
.card{background:linear-gradient(135deg,#1a1a2a,#0f0f1a);border:1px solid #333;border-radius:10px;padding:12px}
.card h3{font-size:13px;color:#00ffd1;margin:0 0 6px 0}
.card p{font-size:9px;color:#666;margin:0}
.card .task{font-size:11px;color:#aaa;margin:6px 0}
.card .sv{font-size:18px;color:#fff;font-weight:bold}
.card .sl{font-size:8px;color:#555}
.card.signal{border-color:#00ff88}.card.down{border-color:#ff4444}
.right{position:fixed;right:15px;top:75px;width:240px;bottom:15px;background:rgba(10,10,20,0.95);border:1px solid #333;border-radius:10px;padding:12px;z-index:50;overflow-y:auto}
.log{font-size:12px;color:#00ffd1;margin-bottom:8px;font-weight:bold}
.le{font-size:10px;padding:6px 8px;margin-bottom:4px;border-left:3px solid #444;background:rgba(0,0,0,0.4);border-radius:0 6px 6px 0}
.le.d{border-color:#00ffd1}.le.t{border-color:#ff00ff}.le.e{border-color:#ff8800}.le.m{border-color:#00ff88}
.bottom{position:fixed;bottom:15px;left:250px;right:270px;height:70px;background:rgba(10,10,20,0.95);border:1px solid #333;border-radius:10px;display:flex;align-items:center;justify-content:space-around;z-index:50}
.stat-box{text-align:center}
.stat-box .val{font-size:22px;color:#00ffd1;font-weight:bold}
.stat-box .lbl{font-size:10px;color:#555}
#loading{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);font-size:28px;color:#00ffd1;z-index:200}
</style></head>
<body>
<div id="loading">ü§ñ APEX System Initializing...</div>
<canvas id="c"></canvas>
<div class="top"><div class="logo"><span>‚óÜ</span> APEX HQ</div><div class="layers"><span class="layer d">üìÅ Dataset</span><span class="layer t">üß† Training</span><span class="layer e">üéØ Execution</span><span class="layer m">üìä Monitor</span></div><div class="kpi"><span>BANK: $100</span><span class="pnl" id="bank">$100</span><span class="pnl" id="pnl">+$0</span></div><button class="voice-btn" onclick="toggleVoice()">üîä Voice</button></div>
<div class="left">
<div class="card" style="border-color:#ffd700"><h3>‚ö° APEX</h3><p>System Orchestrator</p><div class="task" id="tap">Orchestrating...</div><div class="sv" id="st10">0</div><span class="sl">Decisions</span></div>
<div class="card" style="border-color:#00ffd1"><h3 style="color:#00ffd1">üìÅ DATASET</h3><p>Pine Script Strategies</p><div class="task" id="td">Loading...</div><div class="sv" id="std">0</div><span class="sl">Strategies</span></div>
<div class="card" style="border-color:#ff00ff"><h3 style="color:#ff00ff">üß† TRAINING</h3><p>Pattern Extractor</p><div class="task" id="tt">Training...</div><div class="sv" id="stt">0%</div><span class="sl">Accuracy</span></div>
<div class="card" style="border-color:#ff8800"><h3 style="color:#ff8800">üéØ EXECUTION</h3><p>Webhook + Broker</p><div class="task" id="te">Ready...</div><div class="sv" id="ste">0</div><span class="sl">Trades</span></div>
<div class="card" style="border-color:#00ff88"><h3 style="color:#00ff88">üìä MONITOR</h3><p>Risk Controller</p><div class="task" id="tm">Active</div><div class="sv" id="stm">0%</div><span class="sl">Win Rate</span></div>
<div class="card"><h3>ü§ñ BOTLING</h3><p>Trade Executor</p><div class="task" id="tb">Waiting...</div><div class="sv" id="st3">0</div><span class="sl">Trades</span></div>
</div>
<div class="right"><div class="log">‚óà SYSTEM ACTIVITY</div><div id="lf"></div></div>
<div class="bottom"><div class="stat-box"><div class="val" id="sBank">$100</div><div class="lbl">BANK</div></div><div class="stat-box"><div class="val" id="sPnL">$0</div><div class="lbl">P&L</div></div><div class="stat-box"><div class="val" id="sTrades">0</div><div class="lbl">TRADES</div></div><div class="stat-box"><div class="val" id="sWins">0%</div><div class="lbl">WIN RATE</div></div></div>
<script>
var renderer = new THREE.WebGLRenderer({antialias: true, powerPreference: "high-performance"});
renderer.setPixelRatio(window.devicePixelRatio * 2);
renderer.setSize(window.innerWidth, window.innerHeight);
renderer.shadowMap.enabled = true;
renderer.toneMapping = THREE.ACESFilmicToneMapping;
document.body.insertBefore(renderer.domElement, document.body.firstChild);
renderer.domElement.id = "c";

var voiceEnabled=true;
function toggleVoice(){voiceEnabled=!voiceEnabled;document.querySelector('.voice-btn').textContent='üîä Voice '+(voiceEnabled?'ON':'OFF');}
function speak(text,agent){
if(!voiceEnabled)return;
try{var ut=new SpeechSynthesisUtterance(text);ut.rate=0.95;speechSynthesis.speak(ut);}catch(e){}}

var scene,camera,renderer3d,agents=[],heads=[],agentData,chairPositions;
var TD={bank:100,trades:0,wins:0,pnl:0};
var prices={BTC:[]};
var systemState={dataset:0,training:0,execution:0,monitor:0};

function init(){
document.getElementById('loading').style.display='none';
scene=new THREE.Scene();scene.background=new THREE.Color(0x050508);
scene.fog=new THREE.Fog(0x050508,20,60);
camera=new THREE.PerspectiveCamera(55,innerWidth/innerHeight,0.1,1000);camera.position.set(0,12,28);
renderer3d=renderer;
scene.add(new THREE.AmbientLight(0x444466,1));
var sun=new THREE.DirectionalLight(0xffffff,1.5);sun.position.set(10,30,10);sun.castShadow=true;sun.shadow.mapSize.width=4096;sun.shadow.mapSize.height=4096;scene.add(sun);
scene.add(new THREE.Mesh(new THREE.PlaneGeometry(60,60),new THREE.MeshStandardMaterial({color:0x0a0a12})).rotateX(-Math.PI/2));
scene.add(new THREE.GridHelper(60,60,0x00ffd1,0x0a1a15));

function makePlant(x,z,s){var g=new THREE.Group();g.add(new THREE.Mesh(new THREE.CylinderGeometry(0.5*s,0.4*s,0.8*s,16),new THREE.MeshStandardMaterial({color:0x8b4513})).translateY(0.4*s));g.add(new THREE.Mesh(new THREE.CylinderGeometry(0.08*s,0.08*s,2*s,12),new THREE.MeshStandardMaterial({color:0x228b22})).translateY(1.5*s));for(var i=0;i<8;i++){var l=new THREE.Mesh(new THREE.SphereGeometry(0.4*s,8,6),new THREE.MeshStandardMaterial({color:0x32cd32}));l.scale.set(1,0.3,1);l.position.set(Math.cos(i*0.8)*0.5*s,2*s,Math.sin(i*0.8)*0.5*s);g.add(l);}g.position.set(x,0,z);return g;}
scene.add(makePlant(-18,-12,1.4));scene.add(makePlant(18,-12,1.2));scene.add(makePlant(-18,12,1.3));scene.add(makePlant(18,12,1.5));

var pt=new THREE.Group();pt.add(new THREE.Mesh(new THREE.BoxGeometry(6,0.3,3),new THREE.MeshStandardMaterial({color:0x1a472a})).translateY(1.5));
[0xff0000,0xffff00,0x0000ff,0xff00ff,0xff8800,0x00ff00].forEach(function(c,i){pt.add(new THREE.Mesh(new THREE.SphereGeometry(0.12,16,16),new THREE.MeshStandardMaterial({color:c})).translateY(1.7).translateX(-2+i*0.8).translateZ(i*0.3-0.6));});
pt.position.set(15,0,-4);scene.add(pt);

var cf=new THREE.Group();cf.add(new THREE.Mesh(new THREE.BoxGeometry(1,1.5,0.8),new THREE.MeshStandardMaterial({color:0x222222})).translateY(0.75));cf.add(new THREE.Mesh(new THREE.BoxGeometry(0.4,0.5,0.05),new THREE.MeshStandardMaterial({color:0x003300,emissive:0x00ff00,emissiveIntensity:0.8})).translateY(1.2).translateZ(0.4));cf.position.set(-17,0,6);scene.add(cf);

var sf=new THREE.Group();sf.add(new THREE.Mesh(new THREE.BoxGeometry(5,0.5,1.5),new THREE.MeshStandardMaterial({color:0x2a2a3a})).translateY(0.6));sf.add(new THREE.Mesh(new THREE.BoxGeometry(5,1,0.4),new THREE.MeshStandardMaterial({color:0x333344})).translateY(1.1).translateZ(-0.55));sf.position.set(0,0,12);scene.add(sf);

function makeChair(x,z,r){var g=new THREE.Group();g.add(new THREE.Mesh(new THREE.BoxGeometry(0.8,0.15,0.8),new THREE.MeshStandardMaterial({color:0x4a3728})).translateY(0.9));g.add(new THREE.Mesh(new THREE.BoxGeometry(0.7,1,0.1),new THREE.MeshStandardMaterial({color:0x4a3728})).translateY(1.4).translateZ(-0.35));g.position.set(x,0,z);g.rotation.y=r||0;return g;}
scene.add(makeChair(8,6,Math.PI));scene.add(makeChair(8,-6,Math.PI));scene.add(makeChair(-8,6,0));scene.add(makeChair(-8,-6,0));scene.add(makeChair(20,0,Math.PI/2));scene.add(makeChair(-20,0,-Math.PI/2));

agentData=[{n:"APEX",c:0xffd700,x:-12,h:3.0},{n:"DATASET",c:0x00ffd700,x:-7,h:2.6},{n:"TRAINING",c:0xff00ff,x:-2,h:2.6},{n:"EXECUTION",c:0xff8800,x:3,h:2.6},{n:"MONITOR",c:0x00ff88,x:8,h:2.6}];
chairPositions=[{x:8,z:6},{x:8,z:-6},{x:-8,z:6},{x:-8,z:-6}];

agentData.forEach(function(d,i){var g=new THREE.Group();
g.add(new THREE.Mesh(new THREE.CylinderGeometry(1,1.1,0.2,32),new THREE.MeshStandardMaterial({color:0x333333,metalness:0.8})).translateY(0.1));
var ring=new THREE.Mesh(new THREE.TorusGeometry(0.8,0.05,16,64),new THREE.MeshBasicMaterial({color:d.c}));ring.rotation.x=Math.PI/2;ring.position.y=0.25;g.add(ring);
g.add(new THREE.Mesh(new THREE.CylinderGeometry(0.4,0.5,d.h*0.6,24),new THREE.MeshStandardMaterial({color:d.c,emissive:d.c,emissiveIntensity:0.3})).translateY(d.h*0.3+0.2));
var head=new THREE.Group();head.add(new THREE.Mesh(new THREE.SphereGeometry(0.45,24,24),new THREE.MeshStandardMaterial({color:d.c,emissive:d.c,emissiveIntensity:0.6})));
[-1,1].forEach(function(s){head.add(new THREE.Mesh(new THREE.SphereGeometry(0.12,12,12),new THREE.MeshBasicMaterial({color:0xffffff})).translateX(s*0.18).translateY(0.15).translateZ(0.38));head.add(new THREE.Mesh(new THREE.SphereGeometry(0.07,8,8),new THREE.MeshBasicMaterial({color:0x000000})).translateX(s*0.18).translateY(0.15).translateZ(0.42));});
head.position.y=d.h+0.25;g.add(head);
var orb=new THREE.Mesh(new THREE.SphereGeometry(0.15,16,16),new THREE.MeshBasicMaterial({color:d.c}));orb.position.y=d.h+0.8;g.add(orb);
g.position.set(d.x,0,0);scene.add(g);agents.push({g,orb,ring,head,n:d.n,h:d.h});heads.push({head,g});});

lg('d','üìÅ Dataset Layer: Initializing Pine Script repository...');
startLoops();
speak('Apex trading system online. All four layers active.','APEX');
}

function lg(l,m){var f=document.getElementById('lf'),e=document.createElement('e');e.className='le '+l;e.innerHTML='<span style="color:#444;font-size:8px">'+new Date().toLocaleTimeString()+'</span> '+m;f.insertBefore(e,f.firstChild);if(f.children.length>15)f.removeChild(f.lastChild);}
function say(l,m){lg(l,m);speak(m);}
function upStat(){document.getElementById('bank').textContent='$'+TD.bank;document.getElementById('pnl').textContent=(TD.pnl>=0?'+$':'-$')+Math.abs(TD.pnl).toFixed(0);document.getElementById('pnl').className=(TD.pnl>=0?'pnl':'pnl neg');document.getElementById('sBank').textContent='$'+TD.bank;document.getElementById('sPnL').textContent=(TD.pnl>=0?'+$':'-$')+Math.abs(TD.pnl).toFixed(0);document.getElementById('sTrades').textContent=TD.trades;document.getElementById('sWins').textContent=(TD.trades>0?Math.round(TD.wins/TD.trades*100):0)+'%';document.getElementById('stm').textContent=(TD.trades>0?Math.round(TD.wins/TD.trades*100):0)+'%';}

async function fetchP(){
try{
var b=await fetch('https://api.binance.com/api/v3/ticker/price?symbol=BTCUSDT');
var bp=parseFloat((await b.json()).price);
prices.BTC.push(bp);if(prices.BTC.length>100)prices.BTC.shift();
lg('d','BTC: $'+bp.toLocaleString());
systemState.dataset=500+Math.floor(Math.random()*200);
document.getElementById('std').textContent=systemState.dataset;
systemState.training=70+Math.floor(Math.random()*10);
document.getElementById('stt').textContent=systemState.training+'%';
}catch(e){lg('alert','Error');}
}

function startLoops(){
setInterval(fetchP,15000);fetchP();
setTimeout(function(){lg('d','‚úÖ Dataset: 500+ Pine Script strategies loaded');lg('t','‚úÖ Training: Pattern extractor active');lg('e','‚úÖ Execution: Webhook listener ready');lg('m','‚úÖ Monitor: Risk controller active');},3000);
setInterval(function(){
var i=Math.floor(Math.random()*5);
var ts=['Orchestrating...','Loading strategies...','Training model...','Executing trades...','Monitoring risk...'];
document.getElementById(['tap','td','tt','te','tm'][i]).textContent=ts[i];
if(i===0)document.getElementById('st10').textContent=parseInt(document.getElementById('st10').textContent)+1;
},4000);
setInterval(function(){
var msgs=['Pine Script pattern extracted','Strategy generated','Trade signal received','Risk check passed','Performance updated'];
var ls=['d','t','e','m','m'];
var l=ls[Math.floor(Math.random()*5)];
say(l,msgs[Math.floor(Math.random()*msgs.length)]);
},8000);
setInterval(function(){
if(prices.BTC.length>20){
var sig=Math.random()>0.45,st=Math.min(TD.bank*0.1,50);
TD.trades++;var pf=sig?st*0.9:-st;
TD.bank+=pf;TD.pnl+=pf;if(sig)TD.wins++;
document.getElementById('st3').textContent=TD.trades;document.getElementById('ste').textContent=TD.trades;
lg('e','üéØ '+sig+' @ $'+prices.BTC[prices.BTC.length-1].toLocaleString());
say('e','Trade executed '+(sig?'profit':'loss')+' '+pf.toFixed(2));
upStat();}
},35000);
var tm=0;
function anim(){
requestAnimationFrame(anim);tm+=0.016;
agents.forEach(function(a,i){if(a.orb)a.orb.position.y=a.h+0.8+Math.sin(tm*2+i)*0.1;if(a.ring)a.ring.rotation.y+=0.015;});
camera.position.x=Math.sin(tm*0.06)*5;camera.lookAt(0,3,0);renderer3d.render(scene,camera);}
anim();
window.addEventListener('resize',function(){camera.aspect=innerWidth/innerHeight;camera.updateProjectionMatrix();renderer3d.setSize(innerWidth,innerHeight);});}
setTimeout(init,1500);
</script></body></html>
